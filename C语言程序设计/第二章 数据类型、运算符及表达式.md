# 第二章 数据类型、运算符及表达式

## 1.数据以及数据的表现形式

### 1.数据

是`描述`客观事物的`符号`，是计算机可以操作的对象，是`能被计算机识别`，并输入给计算机处理的`符号集合`，数据不仅仅指我们通常所说的`数值类型`，还包括`字符`及`声音`、`图像`、`视频`等`非数值类型`

### 2.数据的表现形式

1.  `常量`：其值在运行过程中不能改变的量
2.  `变量`：用来存放变量，即变量的值
3.  `常变量`：其值不能改变的变量
4.  `标识符`：给对象起名字

#### 常量

在运行过程中，其值不能被改变的量  
常量一般出现在表达式或赋值语句中  
常量的分类

| 常量类型 | 表现  |
| --- | --- |
| 整型常量 | `100`，`123`，`-3` 等 |
| 实型常量 | `123.4`，`3.14`，`0.345`等 |
| 字符常量 | `'1'`，`'a'`，`'\n'`等 |
| 字符串常量 | `"123"`，`"abc"`等 |
| 符号常量 | 如`#define PI 3.14` |

```c
#include<stdio.h>
#define PI 3.1415
int main(){
    //常量的特点：运行期间值不能被改变
    //1.整型陈亮，即我们理解的整数
    //10 = 1
    printf("%d\n",100);
    //2.实型常量，即我们理解的小数
    printf("%lf\n",3.14);
    //3.字符常量，''括起来的字符，有且只有一个
    printf("%c\n",'a');
    //4.字符串常量，""括起来的字符，而且可以包含多个
    printf("%s\n","china");
    //5.符号常量，#define定义的
    //本质是常量，需要大写，结尾没有分号
    printf("%lf\n",PI);
    //转义字符
    printf("abc");
    printf("abc\tdef")	//\t表示制表符
    
    return 0;
}
```

##### 常量的几点注意事项

1.  字符常量`有且仅包括一个`字符，且用单引号`''`表示
2.  字符串常量可以`包括全部`字符，用双引号`""`表示
3.  转义字符是以`\`开头的特殊字符序号，从用的总结如下

| 形式  | 含义  |
| --- | --- |
| `\\` | 表示反斜杠 |
| `\n` | 表示换行符 |
| `\r` | 表示回车 |
| `\t` | 表示制表符 |

#### 标识符

##### 1.定义

用来给变量、符号常量、函数、数组、类型等命名的`有效序列`

##### 2.命名规范

1.  只能由`字母`、`数字`、`下划线`三种符号组成
2.  必须以`字母`或者`下划线`开头
3.  不能使用`关键字`

##### 3.范例

```c
//sum 合法
//int 不合法
//_age 合法
//#33 不合法
//2y50 不合法
```

#### 变量

1.  在运行过程中其值可以被改变
2.  变量必须先定义后使用

```c
int b = 2; //变量的初始化
b = 2; //报错，变量a没有定义
```

3.  变量定义的格式  
    数据类型 变量名 = 变量值  
    例如定义一个整型变量sum

```c
int sum = 0;
``````c
#include<stdio.h>
int main(){
    //1.变量的特点：运行过程中值可以改变
    //2.变量是先定义后使用
        //a = 3; //error
    //3.变量定义的格式
        //数据类型 变量名 = 变量值
    //4.变量的实质
        //变量对应的就是系统给分配的空间，空间大小由数据类型决定
    //5.总结变量的特点
        //1.运行期间可以改变，而且系统会根据数据类型去分配空间大小
        //2.可以通过变量名或者地址去访问内存空间
    int a = 3;
    printf("%d\n",a);
    return 0;
}
``````c
#include<stdio.h>
int main(){
    //常变量：本质还是变量，只不过它的值是不能改变的
    //格式：在变量前加上关键字const即可
    const int a = 3; //报错，提示不可以被赋值
    printf("%d\n",a);
    return 0;
}
```

#### 注意事项

##### 1.`符号常量`和`变量`的区别

1.  符号常量是`不占内存的`，只是一个临时符号，`预编译完成后就消失了`
2.  符号常量用`大写表示`

##### 2.`常变量`与`常量`的异同

1.  常量具有变量的基本属性，即有类型、占存储单元
2.  不允许改变其值

## 进制

### 定义

进制就是一种进位方法，对于任意X进制就是表示某一位上进行运算时是逢X进一，十进制就是逢10进一，十六进制就是逢16进一，二进制就是逢2进一

### 其他进制转10进制

两点注意事项  
左边是高位，右边是低位  
按权展开即可

### 10进制转其他进制

方法  
用10进制数除以X，分别取余数和商，商为0时，将余数倒着数就是转化以后的结果

### 二进制、八进制、十六进制互相转化

二进制转八进制，从右往左分，八进制一位对应二进制3位  
`101` `010` `001` `111` `011` -\> `52173`

八进制转二进制  
`1234` -\> `001` `010` `011` `100`

二进制转十六进制，从右往左分，十六进制一位对应二进制3位  
`1010` `1110` `1001` `0000` -\> `AE90`

十六进制转二进制  
`A87` -\> `1010` `1000` `0111`

八进制转十六进制  
不可以直接转，需要通过二进制转换

### 相应的进制在C语言中的表示

| 进制  | 表达  |
| --- | --- |
| 十进制 | 以正常数字`1-9`开头，如`15` |
| 八进制 | 以数字`0`开头，如`015` |
| 十六进制 | 以`0x`开头，如`0x15` |
| 二进制 | C语言不能直接书写二进制数 |

### 示例

```c
#include<stdio.h>
int main(){
    //十进制
    int a = 10;
    //八进制（以数字0开头）
    int b = 015;
    //十六进制（以0x开头）
    int c = 0x15;
    //printf输出各个进制,%d->十进制，%o->八进制，%x->十六进制
    printf("十进制数：%d\n",a);
    printf("八进制数：%o\n",b);
    printf("十六进制数：%x\n",c);
    return 0;
}

```

## 计算机数值存储方式

### 1.源码

1.  一个数的源码是原始的二进制编码
2.  最高位是符号位，0表示正，1表示负
3.  数值位就是数值本身的绝对值的二进制数
4.  负数的源码是在绝对值的基础上，最高位为1

下面以1个字节进行说明

| 十进制数 | 源码  |
| --- | --- |
| +13 | 0000 1101 |
| -13 | 1000 1101 |
| +0  | 0000 0000 |
| -0  | 1000 0000 |

#### 注意：使用源码存储数据会产生两个问题：

1.  数值0有两种表示方法
2.  正数和负数相加，结果不正确（计算机只会加法，减法的实质就是加法）  
    例如说那个源码计算1-1，结果如下：  
    `1` `0000 0001`  
    `-1` `1000 0001`  
    `1` `-1`=`1`+(`-1`)=`00000001`+`10000001`=`10000002`=`-2`

### 2.反码

1.  对于正数，反码和源码相同
2.  对于负数，符号位不变，其他部分按位取反

下面以一个字节进行说明

| 十进制数 | 源码  |
| --- | --- |
| +13 | 0000 1101 |
| -13 | 1111 0010 |
| +0  | 0000 0000 |
| -0  | 1111 1111 |

#### 使用反码存储数据会产生1个问题

1.  数值0有两种表示方法

反码解决了正数和负数相加的问题  
`1` `0000 0001`  
`-1` `1111 1110`  
`1` `-1`=`1`+(`-1`)=`00000001`+`11111110`=`11111111`=`-0`=`0`

### 3.补码

1.  计算机中`存储数据都是补码形式`，为了解决负数存储问题
2.  对于正数，源码、补码、反码都相同
3.  对于负数，其补码为其反码加1
4.  补码符号位不变，其他位求反，最后整个数加1，得到源码

| 十进制数 | 源码  |
| --- | --- |
| +13 | 0000 1101 |
| -13 | 1111 0011 |
| +0  | 0000 0000 |
| -0  | 0000 0000 |

#### 意义：

1.  统一了0的编码
2.  将减法运算变为加法运算
3.  两个用补码表示的数相加时，如果最高位有进位，则进位被舍弃

范例

```c
#include<stdio.h>
int main(){
    //如果是长在用户的角度，原码显示
    //如果站在计算机的角度，就是补码表示
    //使用二进制、八进制、十六进制即为补码表示
    char a = 0x85;
    //使用十进制数，即为原码表示
    char b = -15
    //0x85
    //补码	1000 0101
    //原码	1111 1011
    printf("a=%d\n",a);
    //-15
    //原码	1000 1111
    //反码	1111 0000
    //补码	1111 0001
    printf("b=%x\n",b);	
    return 0;
}
```

`sizeof`运算符的使用

- sizeof不是函数，所以不需要包括任何头文件，她的功能是计算一个数据类型的大小，单位为字节
- sizeof的返回值为size_t
- size_t类型在32位操作系统下是unsigned int，是一个无符号整数

```c
#include<stdio.h>
int main(){
    //sizeof运算符的使用
    //1.sizeof不是函数，使用时不需要引入头文件
    //2.计算数据类型大小，单位字节
    //int
    printf("int=%u\n",sizeof(int));
    printf("char=%u\n",sizeof(char));
    
    return 0;
}

```

## 第二节 数据类型

### 1.基本数据类型

#### 1.整型类型

###### 1.基本整型（int型）

1.  占两个或者四个字节，由编译器决定
2.  以整数的补码形式存放

###### 2.短整型（short int）

以`Visual C++`为例，占两个字节

###### 3.长整型（long int）

以`Visual C++`为例，占四个字节

###### 4.双长整型（long long int）

以`Visual C++`为例，占八个字节

##### 整型类型的基本用法

- 常用的打印格式

| 打印格式 | 含义  |
| --- | --- |
| %hd | 输出short类型 |
| %d  | 输出int类型 |
| %l  | 输出long类型 |
| %ll | 输出long long类型 |
| %hu | 输出unsigned short类型 |
| %u  | 输出unsigned int类型 |
| %lu | 输出unsigned long类型 |
| %llu | 输出unsigned long long类型 |

示例  
注意：

1.  类型长度long>int>short
2.  小的数据类型复制给大的数据类型，系统会自动转换。大的数据类型赋值给小的数据类型会损失高位

```c
#include<stdio.h>
int main(){
    //整型（int）
    //整型默认的就是int型，所赋值的10就是int型的10
    //变量定义的格式
    //数据类型 变量名 = 变量值
    int a = 10;
    //短整型
    short int b = 2;
    //长整型
    long int c = 345;	
    printf("%d\n",a);
    printf("%hd\n",b);
    printf("%ld\n",c);
    //sizeof运算符
    printf("int=%d\n",sizeof(int));
    printf("short=%d\n",sizeof(short int));
    printf("long=/n",sizeof(long int));
    //类型长度
    //long >= int > short
    //小类型转换味大类型赋值会自动转换
    
    return 0;
}

```

##### 有符号与无符号的区别

- 有符号数`最高位`表示`符号位`，0为正数，1为负数
- 无符号数`最高位`是`数值位`，`只能表示正数`

```c
#include<stdio.h>
int main(){
    //定义一个有符号0x80000001
    int a = -12;//可以赋值负数
    unsigned int b = 12;//只能赋值正数
    printf("%d\n",0x80000001);//有符号数-2147483647
    printf("%u\n",0x80000001);//无符号数2147483649
    printf("a=%d\n",a);
    printf("b=%d\n",b);
    /*
        有符号和无符号数的总结：
        1.有符号数最高位是符号位
        2.有符号使用的是%d输出，无符号使用的是%u输出，不可以混用
        3.printf输出的结果是有输出控制符决定
            %d -> 有符号输出结果
            %u -> 无符号输出结果
        4.无符号数它只能表示正数，不要给它赋值负数
    */
    return 0;
}

```

int 4个字节

##### 字符型数据
1. 内存中没有字符，只有数字，存放字符实际上存放的是其ASCII码
2. 使用字符赋值和使用ASCII码赋值作用是一样的
3. 字符类型的实质就是一个字节的整数

示例
```c
#include<stdio.h>
int main(){
	/*
	1.字符型数据我们使用的关键字char
	2.字符类型实质上是一个字节的整型，它对应的整数就是ASCII码
	3.给字符类型赋值，使用字符和整数实质上是等价的
	4.大小写字母之间值差32
		小写转大写减32
		大写转小写加32
	*/
	//定义一个字符型数据
	char ch = 'a';
	char ch2 = 97;
	char ch3 = 'A';
	printf("ch=%c\n",ch);
	//可以使用%d得到ASCII码
	printf("ch=%d\n",ch);
	printf("ch=%c\n",ch2);
	printf("ch=%d\n",ch3);
	return 0;
}
```

##### 转义字符
1. 以`/`开头的特殊字符序列，原则上字符''里面只能有一个字符，但转义字符除外
2. 常见的转义字符为`\t`（制表符），`\n`（换行符）

##### char类型的范围
1. 取值范围如下（从用户角度分析）
2. 赋值时一定要注意不要超过取值范围

|数据类型|占用空间|取值范围|
|:---|:---:|:---|
|char|1个字节|-128到127|
unsigned char|1个字节|0到255|

```c
#include<stdio.h>
int main(){
	//char取值范围
	/*
	有符号数它的取值范围是-128到+127
	无符号数它的取值范围是0到255
	*/
	char ch = -129;
	unsigned char ch2 = 256;
	printf("ch=%c\n",ch);
	printf("ch2=%d\n",ch2);
	return 0;
	
}

```

#### 2. 浮点类型

##### 浮点数类型数据
- 浮点型的作用是用来存储小数的，常见的主要是两种，单精度


### 2.枚举类型

### 3.空类型

### 4.派生类型

1.  指针类型
2.  数组类型
3.  结构体类型
4.  共用体类型
5.  函数类型
